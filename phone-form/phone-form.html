<!DOCTYPE html><!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Sat Apr 10 2021 10:59:52 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="606ef31a0ebd9d54d790a772" data-wf-site="606eee904b85d3a396305721">
<head>
  <meta charset="utf-8">
  <title>Phone Form</title>
  <meta content="Phone Form" property="og:title">
  <meta content="Phone Form" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="./css/normalize.css" rel="stylesheet" type="text/css">
  <link href="./css/webflow.css" rel="stylesheet" type="text/css">
  <link href="./css/interview-tests.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="./images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="./images/webclip.png" rel="apple-touch-icon">

  
</head>
<body>
  <main>
    <div class="section phone-form_section">
      <div class="page-padding">
        <div class="container">
          <div class="phone-form_grid">
            <div class="phone-form_component w-form">
              <form id="phone-form" name="wf-form-Phone-Form" data-name="Phone Form" class="phone-form_form">
                <div class="prefix-dropdown_component">
                  <div class="prefix-dropdown_toggle"><img src="./images/us.svg" loading="lazy" alt="United States Flag" class="prefix-dropdown_flag">
                    <div class="prefix-dropdown_value">+1 </div>
                    <div class="prefix-dropdown_chevron w-embed"><svg viewbox="0 0 444 255" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
							<path d="M439.9 24.3L420.1 4.49998C415.4 -0.200024 407.8 -0.200024 403.1 4.49998L222 185.2L40.9 4.49998C36.2 -0.200024 28.5999 -0.200024 23.9 4.49998L4.09995 24.3C-0.600049 29 -0.600049 36.6 4.09995 41.3L213.5 250.7C218.2 255.4 225.8 255.4 230.5 250.7L439.9 41.3C444.6 36.6 444.6 29 439.9 24.3V24.3Z"></path>
						</svg>
					  </div>
                  </div>
                  <div id="prefix-dropdown-list" class="prefix-dropdown_list-wrapper">
                    <ul role="list" class="prefix-dropdown_list">
                    </ul>
                  </div>
                </div><input type="tel" class="text-field w-input" maxlength="256" name="phoneNumber" data-name="Phone Number" placeholder="Your phone" id="phoneNumber" required=""><input type="submit" value="Get Started" data-wait="Sending..." class="button submit w-button">
              </form>
              <div class="success-message w-form-done">
                <div>Thank you for your submission!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div>
            </div>
            <div class="w-richtext">
              <h1>Phone Form Requirements</h1>
              <p>The dropdown must:</p>
              <ol start="" role="list">
                <li>Get the countries&#x27; data from a public API.</li>
                <li>Dynamically populate all the options in the dropdown.</li>
                <li>Detect the user&#x27;s location and set his country as the default option.</li>
                <li>Set a default selection when the geolocation fails.</li>
                <li>Display the country code in the options list.</li>
                <li>Display the country phone prefix in the selected option.</li>
                <li>Update a hidden input with the country code selection.</li>
                <li>Close if the user clicks outside the dropdown when it&#x27;s open.</li>
                <li>Focus the first option that starts with any pressed key. For example: If the user presses the &quot;C&quot; letter, the browser must focus the &quot;CM&quot; (Cameroon) option.</li>
              </ol>
              <p>Optionally, the dropdown should:</p>
              <ol start="1" role="list">
                <li>Be fully accessible for keyboard navigation and screen reader users.</li>
                <li>Store the user&#x27;s selection in a cookie or the local storage of the browser. If a stored selection exists, it must be displayed as the default option instead of geolocating the user.</li>
              </ol>
              <h2>We&#x27;re expecting your best code!</h2>
              <p>Invest some time in making sure your code is efficient and follows <a href="https://github.com/airbnb/javascript" target="_blank">industries&#x27; best practises</a>!</p>
              <h2>Webflow gotchas</h2>
              <p>Developing in Webflow is not a usual development workflow, as the platform has some gotchas. Please take some time to checkout this video were we give you some recommendations!</p>
              <figure style="padding-bottom:75%" class="w-richtext-align-fullwidth w-richtext-figure-type-video">
                <div><iframe allowfullscreen="true" frameborder="0" scrolling="no" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.loom.com%2Fembed%2F9ee9157d39964917ab276aec43ebd8a1&amp;display_name=Loom&amp;url=https%3A%2F%2Fwww.loom.com%2Fshare%2F9ee9157d39964917ab276aec43ebd8a1&amp;image=https%3A%2F%2Fcdn.loom.com%2Fsessions%2Fthumbnails%2F9ee9157d39964917ab276aec43ebd8a1-00001.gif&amp;key=96f1f04c5f4143bcb0f2e68c87d65feb&amp;type=text%2Fhtml&amp;schema=loom"></iframe></div>
              </figure>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=606eee904b85d3a396305721" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="./js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
 
<script>
 "use strict";
var TheDaultCountryCode = "US";
var DefaultCountryCode;
var MyCountryArry;
const trackurl = "https://www.cloudflare.com/cdn-cgi/trace";
const countrydataurl = "https://restcountries.eu/rest/v2/all?fields=name;alpha2Code;flag;callingCodes";

function callreq(url){
	var tkhttp = new XMLHttpRequest();
		tkhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				if (this.responseText.includes("www.cloudflare.com")=== true){ 
					DefaultCountryCode = this.responseText.split("\n")[8].replace("loc=","");  callreq(countrydataurl); /*callreq1(countrydataurl);*/ }
				else{ MyCountryArry = JSON.parse(this.responseText); myFunction(MyCountryArry);}
				}
			};
	tkhttp.open("GET", url, true);
	tkhttp.send();
}

function callreq1(url){
	$.get(url, function(data, status){
		 myFunction(data);
	});
}

function myFunction(arr) {
    var out = "";
	let TheSelected;
    var i;
    for(i = 0; i < arr.length; i++) {
		out += '<li class="prefix-dropdown_item"><img src="'+arr[i].flag+'" loading="lazy" alt="'+arr[i].name+' Flag" class="prefix-dropdown_flag">\
			<div class="prefix-dropdown_value">'+arr[i].alpha2Code+'</div></li>';
		}
	if (DefaultCountryCode === TheDaultCountryCode){
		TheSelected = '<li class="prefix-dropdown_item selected"><img src="./images/us.svg" loading="lazy" alt="United States Flag" class="prefix-dropdown_flag">\
							<div class="prefix-dropdown_value">US</div></li>'}
	else{
		var i;
		for ( i=0; i < arr.length; i++){
			if(DefaultCountryCode === arr[i].alpha2Code){
				document.getElementsByClassName("prefix-dropdown_flag")[0].setAttribute("src", arr[i].flag);
				document.getElementsByClassName("prefix-dropdown_flag")[0].setAttribute("alt", arr[i].name+' Flag');
				document.getElementsByClassName("prefix-dropdown_value")[0].innerText = "+"+arr[i].callingCodes;
				TheSelected = '<li class="prefix-dropdown_item selected"><img src="'+arr[i].flag+'" loading="lazy" alt="'+arr[i].name+' Flag" class="prefix-dropdown_flag">\
					<div class="prefix-dropdown_value">'+arr[i].alpha2Code+'</div></li>';
				}
			}
		}
	document.getElementsByClassName("prefix-dropdown_list")[0].innerHTML = TheSelected+out;
}

callreq(trackurl);

document.getElementsByClassName("prefix-dropdown_list")[0].addEventListener("mouseleave", handlePrefixDropdownList);
function handlePrefixDropdownList(){document.getElementsByClassName("prefix-dropdown_toggle")[0].click();}

document.addEventListener('click', ({ target }) => {
	var listIsOpen = document.getElementById("prefix-dropdown-list").style.display; 
	if (listIsOpen === "block"){
		for (var i = 0; i < MyCountryArry.length; i++) {
			if( MyCountryArry[i].alpha2Code === target.innerText){
				//console.log(target.innerText);  
				var TargetAlpha2C = MyCountryArry[i].alpha2Code;
				var AllElementInScroll = document.getElementsByClassName("prefix-dropdown_item");
				console.log(TargetAlpha2C);
				for (var a=0; a<AllElementInScroll.length; a++){
					if(AllElementInScroll[a].innerText.includes(TargetAlpha2C)===true){
						document.getElementsByClassName("prefix-dropdown_item selected")[0].setAttribute("class","prefix-dropdown_item");
						AllElementInScroll[a].setAttribute("class","prefix-dropdown_item selected");
						
						document.getElementsByClassName("prefix-dropdown_flag")[0].setAttribute("src", MyCountryArry[i].flag);
						document.getElementsByClassName("prefix-dropdown_flag")[0].setAttribute("alt", MyCountryArry[i].name+' Flag');
						document.getElementsByClassName("prefix-dropdown_value")[0].innerText = "+"+MyCountryArry[i].callingCodes;
						//document.getElementsByClassName("prefix-dropdown_toggle")[0].click();
						break;
						}
					}
				document.getElementsByClassName("prefix-dropdown_toggle")[0].click();
				break;
			}
		}
	}
});

//function handlePrefixDropSelect()
//To get the total height of the scroll select container: document.getElementsByClassName("prefix-dropdown_list")[n].scrollHeight
//To set the scroll select container to a particular sroll position: document.getElementsByClassName("prefix-dropdown_list")[n].scrollTop
//To get the scroll position of an object or element under a scroll container = document.getElementsByClassName("prefix-dropdown_item")[n].offsetTop

window.addEventListener("keydown", function (event) {
	var listIsOpen = document.getElementById("prefix-dropdown-list").style.display; 
	if (listIsOpen === "block"){
		if (event.key !== undefined) {
			var ETK = event.key.toUpperCase();
			for (var i = 0; i < MyCountryArry.length; i++) {
				if( MyCountryArry[i].alpha2Code.startsWith(ETK) === true){
					var TargetAlpha2C = MyCountryArry[i].alpha2Code;
					var AllElementInScroll = document.getElementsByClassName("prefix-dropdown_item");
					for (var a=0; a<AllElementInScroll.length; a++){
						if(AllElementInScroll[a].innerText.includes(TargetAlpha2C)===true){
							document.getElementsByClassName("prefix-dropdown_item selected")[0].setAttribute("class","prefix-dropdown_item");
							document.getElementsByClassName("prefix-dropdown_list")[0].scrollTop = AllElementInScroll[a].offsetTop;
							AllElementInScroll[a].setAttribute("class","prefix-dropdown_item selected");
							break;
							}
						}
					break;
					}
				}
		} else if (event.which !== undefined) {
			console.log(event.which.toUpperCase());
		}
	}
});


 </script>
  
</body>
</html>